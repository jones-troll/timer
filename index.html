<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Online Timer</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 20px;
    }

    #timer {
      font-size: 2em;
      margin: 20px;
    }
  </style>
</head>
<body>

<div id="timer">00:00</div>

<script>
  function startTimer(durationInSeconds) {
    let timerElement = document.getElementById('timer');
    let duration = durationInSeconds;
    let hours, minutes, seconds;

    let timerInterval = setInterval(function () {
      hours = parseInt(duration / 3600, 10);
      minutes = parseInt((duration % 3600) / 60, 10);
      seconds = parseInt(duration % 60, 10);

      hours = hours < 10 ? '0' + hours : hours;
      minutes = minutes < 10 ? '0' + minutes : minutes;
      seconds = seconds < 10 ? '0' + seconds : seconds;

      if (hours > 0) {
        timerElement.textContent = hours + ':' + minutes + ':' + seconds;
      } else {
        timerElement.textContent = minutes + ':' + seconds;
      }

      if (--duration < 0) {
        clearInterval(timerInterval);
        timerElement.textContent = 'Time is up!';
      }
    }, 1000);
  }

  // Parse query string parameters
  function getQueryStringValue(key) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(key);
  }

  // Get the duration and unit from the query string, default to 5 minutes if not provided
  const timeParam = getQueryStringValue('t') || getQueryStringValue('s') || '300';
  const match = timeParam.match(/^(\d+)(min|hour|s)?$/);

  if (match) {
    const duration = parseInt(match[1], 10);
    const unit = match[2] || 's';

    let durationInSeconds;

    switch (unit) {
      case 'min':
        durationInSeconds = duration * 60;
        break;
      case 'hour':
        durationInSeconds = duration * 60 * 60;
        break;
      case 's':
      default:
        durationInSeconds = duration;
    }

    // Start the timer with the provided duration
    startTimer(durationInSeconds);
  }
</script>
</body>
</html>
